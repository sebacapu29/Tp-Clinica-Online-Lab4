<app-menu-nav
[usuarioMenu]="usuarioLogueado">
</app-menu-nav>

  <div class="page-wrapper bg-blue p-t-100 p-b-100 font-robo">
    <div class="wrapper wrapper--w680">
        <div class="card card-1">
            <div class="card-heading"></div>
            <div class="card-body">
                <h2 class="title">Solicitar Turno</h2>
                <form>                                             
                                <mat-form-field>
                                    <mat-label>Especialidad</mat-label>
                                    <mat-select  (selectionChange)="onChangeEspecialidad($event.value)">
                                      <mat-option *ngFor="let especialidad of listaEspecialidades" [value]="especialidad">{{especialidad}}</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                  <mat-form-field>
                                    <mat-label>Profesional</mat-label>
                                    <mat-select  (selectionChange)="onProfesionalSeleccionado($event)" [(ngModel)]="objProfesionalSeleccionado.apellido" name="apellido">
                                      <mat-option *ngFor="let profesional of listaProfesionales" [value]="profesional">{{profesional.apellido}}</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                  <mat-form-field>
                                    <mat-label>Dias</mat-label>
                                    <mat-select [formControl]="toppings" multiple>
                                      <mat-option *ngFor="let dia of listaDiasDeSemana" [value]="dia">{{dia}}</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                  <mat-form-field>
                                    <mat-label>Horario</mat-label>
                                    <mat-select>
                                      <mat-option *ngFor="let horario of listaHorarios" [value]="horario">{{horario}}</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                <div class="fecha"><span>Fecha</span></div>                                      
                      <ngb-datepicker [dayTemplate]="customDay" [markDisabled]="IsDisabled" >
                          <ng-template  #customDay let-date let-currentMonth="currentMonth" let-selected="selected" let-disabled="disabled" let-focused="focused">
                              <span  class="custom-day" [class.diaLaborable]="esDiaLaborable(date)" [class.focused]="focused"
                              [class.bg-primary]="selected" [class.hidden]="date.month !== currentMonth" [class.text-muted]="disabled"                              
                              [class.day-disabled]="disabled">
                              {{ date.day }}
                            </span>
                        </ng-template>
                    </ngb-datepicker>
                    <div class="fecha"><span>Ayuda: Los dias pintados en naranja son los disponibles.
                                             Debe seleccionar un profesional (En el boton de cada fila)
                                             Para ver sus dias y horarios.            
                    </span></div>    
                    <hr>
                    <!-- Tabla -->
                    <mat-table [dataSource]="dataSource" class="mat-elevation-z8" >              
                        <ng-container matColumnDef="nombre">
                          <mat-header-cell *matHeaderCellDef> Nombre </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{element.nombre}} </mat-cell>
                        </ng-container>
                      
                        <ng-container matColumnDef="apellido">
                          <mat-header-cell *matHeaderCellDef> Apellido </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{element.apellido}} </mat-cell>
                        </ng-container>
                      
                        <ng-container matColumnDef="sexo">
                          <mat-header-cell *matHeaderCellDef> Sexo </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{element.sexo}} </mat-cell>
                        </ng-container>
                      
                        <ng-container matColumnDef="foto">
                          <mat-header-cell *matHeaderCellDef> Foto </mat-header-cell>
                          <mat-cell *matCellDef="let element"><img [src]="element.foto"> </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="seleccion">
                            <mat-header-cell *matHeaderCellDef> Seleccionar </mat-header-cell>
                            <mat-cell  *matCellDef="let element"><button mat-button ><i class="fa fa-angle-left"></i></button> </mat-cell>
                          </ng-container>
                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;"  (click)="rowSelected($event,row)"></mat-row>
                      </mat-table>  
                    <div class="p-t-20">
                        <button class="btn btn--radius btn--green" type="submit" (ngSubmit)="submitTurno()">Aceptar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div><!-- This templates was made by Colorlib (https://colorlib.com) -->